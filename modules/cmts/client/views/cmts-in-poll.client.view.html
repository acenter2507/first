<section>
  <div class="page-header">
    <h3>{{ (vm.cmts.length) ? 'All comment in this poll' : 'No one has commented'}}</h3>
    <div class="pull-right">
      <button class="btn btn-primary btn-sm" ng-click="vm.reply()"><i class="fa fa-reply" aria-hidden="true"></i> Reply</button>
    </div>
    <div class="clearfix"></div>
  </div>
  <div class="well" ng-repeat="cmt in vm.cmts | orderBy:'updated'">
    <small>
      Posted on
      <span ng-bind="cmt.created | date:'mediumDate'"></span>
      by
      <a ui-sref="users.info({userId: cmt.user._id})" ng-if="cmt.user" ng-bind="cmt.user.displayName"></a>
      <span ng-if="!cmt.user">Deleted User</span>
    </small>
    <p class="text-justify" ng-bind="cmt.body"></p>
    <p class="pull-right">
      <a href="" ng-show="cmt.user._id == vm.authentication.user._id" ng-click="vm.reply(cmt)">Reply</a>
    </p>
  </div>
</section>

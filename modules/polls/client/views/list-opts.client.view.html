<span class="text-muted" ng-if="!vm.opts.length || vm.opts.length === 0"><small>No option yet</small></span>
<a class="undecorated-link" ng-if="poll.opts.length === 0 && poll.allow_add" ng-click="vm.input_opt()"><small>, why don't add some option</small></a>
<div ng-repeat="opt in vm.opts | orderBy: '-voteCnt'">
  <div class="opt_image pull-left">
    <img src="{{opt.image}}" alt="{{opt.title}}">
  </div>
  <strong><a class="undecorated-link" href="" ng-bind="opt.title"></a></strong>
  <div class="progress">
    <div ng-class="['progress-bar']" ng-class="bar.barClass" ng-style="{'width': opt.progressVal + '%', 'background-color': opt.color}">
      <span ng-if="opt.voteCnt > 0">{{opt.voteCnt + '/' + vm.votedTotal}}</span>
      <span class="text-black" ng-if="opt.voteCnt === 0">{{opt.voteCnt + '/' + vm.votedTotal}}</span>
    </div>
  </div>
</div>
<div class="form-group">
  <button class="btn btn-info" ng-click="vm.show_vote($event)">Vote</button>
</div>

<script type="text/ng-template" id="vote.dialog.html">
<md-dialog aria-label="Mango (Fruit)">
  <form ng-cloak>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h3>Mango (Fruit)</h3>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="cancel()">
          <md-icon md-svg-src="img/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content>
      <div class="md-dialog-content">
        <div class="md-padding demo checkboxdemoSelectAll">
          <div layout="row" layout-wrap="">
            <div flex="100" layout="column">
              <div>
                <fieldset class="demo-fieldset">
                  <div layout="row" layout-wrap="" flex="">
                    <div flex-xs="" flex="50">
                      <md-checkbox aria-label="Select All" ng-checked="vm.is_voted_all()" md-indeterminate="vm.isIndeterminate()" ng-click="vm.toggleAll()">
                        <span ng-if="vm.is_voted_all()">Un-</span>Select All
                      </md-checkbox>
                    </div>
                    <div class="demo-select-all-checkboxes" flex="100" ng-repeat="opt in vm.opts">
                      <md-checkbox ng-checked="vm.is_voted(opt._id)" ng-click="vm.checked(opt._id)">
                        {{ opt.title }}
                      </md-checkbox>
                    </div>
                  </div>
                </fieldset>
              </div>
            </div>
          </div>
        </div>
      </div>
    </md-dialog-content>

    <md-dialog-actions layout="row">
      <span flex></span>
      <md-button ng-click="vm.save_vote()">
       Not Useful
      </md-button>
      <md-button ng-click="cancel()">
        Cancel
      </md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
</script>
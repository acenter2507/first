<section class="container">
  <!-- Breadcrumb -->
  <div class="row mg10t">
    <div class="col-xs-12 pdn">
      <div class="card">
        <ol class="breadcrumb custom-breadcrumb">
          <li class="breadcrumb-item">
            <a class="undecorated-link" ui-sref="home">
              <i class="fa fa-home"></i> Home
            </a>
          </li>
          <li class="breadcrumb-item active">Search</li>
        </ol>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12 pdn">
      <div class="card">
        <form name="form.searchForm" class="form-horizontal" ng-submit="search()" novalidate>
          <div class="form-group">
            <div class="col-md-5">
              <label>Key</label>
              <input type="text" class="form-control" placeholder="Search key" ng-model="condition.key">
            </div>
            <div class="col-md-5">
              <label>In</label>
              <select class="form-control" ng-model="condition.in">
								<option value="polltitle">Poll's title only</option>
								<option value="pollcontent">Poll's content (include title)</option>
								<option value="pollcmt">Poll content and all comments</option>
								<option value="tags">Tags</option>
							</select>
            </div>
            <div class="col-md-2">
              <label>&nbsp;</label>
              <button type="submit" class="btn btn-default form-control">Search</button>
            </div>
          </div>

          <div class="panel-group" role="tablist" ng-model="detailToggle" aria-multiselectable="true" bs-collapse>
            <div class="panel panel-default custom-panel">
              <div ng-class="{ 'panel-heading': true, 'public': true }" role="tab">
                <h4 class="panel-title">
                  <i class="fa fa-caret-down"></i>&nbsp;
                  <a class="undecorated-link" bs-collapse-toggle>Advanced Search Setting</a>
                </h4>
              </div>
              <div class="panel-collapse" role="tabpanel" bs-collapse-target>
                <!-- User -->
                <div class="panel-body">
                  <!-- Status -->
                  <div class="form-group">
                    <div class="col-xs-12">
                      <label>Status</label>
                      <select class="form-control" ng-model="condition.status">
							        	<option value="opening">Opening</option>
							        	<option value="closed">Closed</option>
							        </select>
                    </div>
                  </div>
                  <!-- User -->
                  <div class="form-group">
                    <div class="col-xs-12">
                      <label>Posted by</label>
                      <input name="by" type="text" class="form-control" placeholder="Posted by" ng-model="condition.by">
                    </div>
                  </div>
                  <!-- Category -->
                  <div class="form-group">
                    <div class="col-xs-12">
                      <label>Category</label>
                      <select class="form-control" ng-model="condition.ctgr" name="ctgr" ng-options="category._id as category.name for category in categorys"></select>
                    </div>
                  </div>
                  <!-- Comment -->
                  <div class="form-group">
                    <div class="col-xs-12"><label>Comment count</label></div>
                    <div class="col-md-6">
                      <select class="form-control" ng-model="condition.compare">
							        	<option value="least">At least</option>
							        	<option value="most">As most</option>
							        </select>
                    </div>
                    <div class="col-md-6">
                      <input name="cmt" class="form-control" ng-model="condition.cmt" type="number">
                    </div>
                  </div>
                  <!-- Time -->
                  <div class="form-group">
                    <div class="col-xs-12"><label>Created time</label></div>
                    <div class="col-md-6">
                      <select class="form-control" ng-model="condition.timing">
							        	<option value="new">Newer than</option>
							        	<option value="old">Older than</option>
							        </select>
                    </div>
                    <div class="col-md-6">
                      <select class="form-control" ng-model="condition.created">
							        	<option value="86400">Yesterday</option>
							        	<option value="604800">One week</option>
							        	<option value="1209600">Two week</option>
							        	<option value="2592000">One month</option>
							        	<option value="7776000">Three months</option>
							        	<option value="15552000">Six monthst</option>
							        	<option value="31104000">One year</option>
							        </select>
                    </div>
                  </div>
                  <!-- Sort -->
                  <div class="form-group">
                    <div class="col-xs-12"><label>Sort by</label></div>
                    <div class="col-md-6">
                      <select class="form-control" ng-model="condition.sort">
							        	<option value="created">Created time</option>
							        	<option value="cmtCnt">Number of comments</option>
							        	<option value="likeCnt">Number of likes</option>
							        	<option value="voteCnt">Number of votes</option>
							        	<option value="optCnt">Number of options</option>
							        </select>
                    </div>
                    <div class="col-md-6">
                      <select class="form-control" ng-model="condition.sortkind">
							        	<option value="desc">In descending order</option>
							        	<option value="asc">In ascending order</option>
							        </select>
                    </div>
                  </div>
                  <!-- Tools -->
                  <div class="form-group">
                    <div class="col-xs-12">
                      <a class="undecorated-link pull-right" ng-click="clear_preferences()">Clear preferences</a>
                      <a class="undecorated-link pull-right mg10r" ng-click="save_preferences()">Save preferences</a>
                      <div class="clearfix"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="clearfix"></div>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
  <!-- Indicator -->
  <div class="row text-center pd6l pd6r" ng-show="busy">
    <md-progress-circular ng-disabled="!busy" class="md-hue-2 center" md-diameter="20px"></md-progress-circular>
  </div>

  <!-- Result -->
  <div class="row" ng-show="polls.length > 0">
    <div class="col-xs-12 pdn">
      <div class="card">
      </div>
    </div>
  </div>
  <!-- Message -->
  <div class="row pd6l pd6r">
    <div class="notice notice-warning" ng-show="polls.length === 0 && !busy">No matches found.</div>
  </div>
</section>
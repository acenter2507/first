<section class="container">
  <div class="row">
    <!--     <div class="col col-xs-12 col-sm-12 col-md-8 col-lg-8"></div>
    <div class="col col-xs-12 col-sm-12 col-md-4 col-lg-4"></div> -->
    <div class="page-header">
      <h3 ng-bind="vm.poll.title"></h3>
    </div>
    <small>
      <em class="text-muted">Posted on
        <span ng-bind="vm.poll.created | date:'mediumDate'"></span>
        by
        <span ng-if="vm.poll.user" ng-bind="vm.poll.user.displayName"></span>
        <span ng-if="!vm.poll.user">Deleted User</span>
      </em>
    </small>
    <p class="text-justify" ng-bind="vm.poll.body"></p>
    <div class="clearfix"></div>
    <hr>
  </div>
  <!-- Control -->
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-5 col-lg-4 pdnl pdnr">
      <select ng-model="vm.cmt_sort" ng-options="sort.val as sort.name for sort in vm.cmt_sorts"></select>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-7 col-lg-8 pdnl pdnr">
      <div class="pull-right">
        <a class="btn btn-info" ui-sref="polls.edit({ pollId: vm.poll._id })" ng-show="vm.poll.isCurrentUserOwner || vm.poll.canEdit">
          <i class="glyphicon glyphicon-edit"></i> Edit
        </a>
        <a class="btn btn-danger" ng-click="vm.remove()" ng-show="vm.poll.isCurrentUserOwner || vm.poll.canEdit">
          <i class="glyphicon glyphicon-trash"></i> Delete
        </a>
        <button class="btn btn-primary" ng-click="vm.reply()"><i class="fa fa-reply" aria-hidden="true"></i> Reply</button>
      </div>
    </div>
    <div class="clearfix"></div>
    <hr>
  </div>
  <!-- #Control -->
  <div ui-view="opts"></div>
  <div ui-view="cmts"></div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Tags:{{(!vm.poll.tags.length) ? 'Has no tag was added' : ''}}</h4>
      <ul class="tags" ng-show="vm.poll.tags.length">
        <li ng-repeat="tag in vm.poll.tags"><a ui-sref="tags.view({ tagId: tag._id })" class="tag">{{tag.name}}</a></li>
      </ul>
    </div>
  </div>
</section>
